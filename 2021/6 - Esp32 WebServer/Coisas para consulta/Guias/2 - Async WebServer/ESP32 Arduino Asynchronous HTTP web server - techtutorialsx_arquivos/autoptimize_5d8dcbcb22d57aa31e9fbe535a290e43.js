var astraGetParents=function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),a=t.length;0<=--a&&t.item(a)!==this;);return-1<a});for(var a=[];e&&e!==document;e=e.parentNode)t?e.matches(t)&&a.push(e):a.push(e);return a},getParents=function(e,t){console.warn("getParents() function has been deprecated since version 2.5.0 or above of Astra Theme and will be removed in the future. Use astraGetParents() instead."),astraGetParents(e,t)},astraToggleClass=function(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},toggleClass=function(e,t){console.warn("toggleClass() function has been deprecated since version 2.5.0 or above of Astra Theme and will be removed in the future. Use astraToggleClass() instead."),astraToggleClass(e,t)};!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}();var astraTriggerEvent=function(e,t,a){var s=new CustomEvent(t,2<arguments.length&&void 0!==a?a:{});e.dispatchEvent(s)};!function(){function e(){var e=document.querySelector("body").style.overflow;document.querySelector("body").style.overflow="hidden";var t=window.innerWidth;document.querySelector("body").style.overflow=e;var a=astra.break_point,s=document.querySelectorAll(".main-header-bar-wrap");if(0<s.length)for(var n=0;n<s.length;n++)"DIV"==s[n].tagName&&s[n].classList.contains("main-header-bar-wrap")&&(a<t?(null!=l[n]&&l[n].classList.remove("toggled"),document.body.classList.remove("ast-header-break-point"),document.body.classList.add("ast-desktop"),astraTriggerEvent(document.body,"astra-header-responsive-enabled")):(document.body.classList.add("ast-header-break-point"),document.body.classList.remove("ast-desktop"),astraTriggerEvent(document.body,"astra-header-responsive-disabled")))}var l=document.querySelectorAll(".main-header-menu-toggle"),n={};e(),AstraToggleSubMenu=function(){var e=this.parentNode;if(e.classList.contains("ast-submenu-expanded")&&document.querySelector("header.site-header").classList.contains("ast-menu-toggle-link")&&!this.classList.contains("ast-menu-toggle")){var t=e.querySelector("a").getAttribute("href");""===t&&"#"===t||(window.location=t)}for(var a=e.querySelectorAll(".menu-item-has-children"),s=0;s<a.length;s++){a[s].classList.remove("ast-submenu-expanded");var n=a[s].querySelector(".sub-menu, .children");null!==n&&(n.style.display="none")}var o=e.parentNode.querySelectorAll(".menu-item-has-children");for(s=0;s<o.length;s++)if(o[s]!=e){o[s].classList.remove("ast-submenu-expanded");for(var r=o[s].querySelectorAll(".sub-menu"),l=0;l<r.length;l++)r[l].style.display="none"}e.classList.contains("menu-item-has-children")&&(astraToggleClass(e,"ast-submenu-expanded"),e.classList.contains("ast-submenu-expanded")?e.querySelector(".sub-menu").style.display="block":e.querySelector(".sub-menu").style.display="none")},AstraNavigationMenu=function(e){console.warn("AstraNavigationMenu() function has been deprecated since version 1.6.5 or above of Astra Theme and will be removed in the future.")},AstraToggleMenu=function(e){if(console.warn("AstraToggleMenu() function has been deprecated since version 1.6.5 or above of Astra Theme and will be removed in the future. Use AstraToggleSubMenu() instead."),0<e.length)for(var t=0;t<e.length;t++)e[t].addEventListener("click",AstraToggleSubMenu,!1)},AstraToggleSetup=function(){var e=document.querySelectorAll(".main-header-bar-navigation");if(0<l.length)for(var t=0;t<l.length;t++)if(l[t].setAttribute("data-index",t),n[t]||(n[t]=l[t],l[t].addEventListener("click",astraNavMenuToggle,!1)),void 0!==e[t]){if(document.querySelector("header.site-header").classList.contains("ast-menu-toggle-link"))var a=e[t].querySelectorAll(".ast-header-break-point .main-header-menu .menu-item-has-children > .menu-link, .ast-header-break-point ul.main-header-menu .ast-menu-toggle");else a=e[t].querySelectorAll("ul.main-header-menu .ast-menu-toggle");if(0<a.length)for(var s=0;s<a.length;s++)a[s].addEventListener("click",AstraToggleSubMenu,!1)}},astraNavMenuToggle=function(e){e.preventDefault();var t=document.querySelectorAll(".main-header-bar-navigation"),a=this.getAttribute("data-index");if(void 0===t[a])return!1;for(var s=t[a].querySelectorAll(".menu-item-has-children"),n=0;n<s.length;n++){s[n].classList.remove("ast-submenu-expanded");for(var o=s[n].querySelectorAll(".sub-menu"),r=0;r<o.length;r++)o[r].style.display="none"}-1!==(this.getAttribute("class")||"").indexOf("main-header-menu-toggle")&&(astraToggleClass(t[a],"toggle-on"),astraToggleClass(l[a],"toggled"),t[a].classList.contains("toggle-on")?(t[a].style.display="block",document.body.classList.add("ast-main-header-nav-open")):(t[a].style.display="",document.body.classList.remove("ast-main-header-nav-open")))},document.body.addEventListener("astra-header-responsive-enabled",function(){var e=document.querySelectorAll(".main-header-bar-navigation");if(0<e.length)for(var t=0;t<e.length;t++){null!=e[t]&&(e[t].classList.remove("toggle-on"),e[t].style.display="");for(var a=e[t].getElementsByClassName("sub-menu"),s=0;s<a.length;s++)a[s].style.display="";for(var n=e[t].getElementsByClassName("children"),o=0;o<n.length;o++)n[o].style.display="";for(var r=e[t].getElementsByClassName("ast-search-menu-icon"),l=0;l<r.length;l++)r[l].classList.remove("ast-dropdown-active"),r[l].style.display=""}},!1),window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&(e(),AstraToggleSetup())}),document.addEventListener("DOMContentLoaded",function(){var e,t;for(AstraToggleSetup(),e=document.querySelectorAll(".navigation-accessibility"),t=0;t<=e.length-1;t++)e[t]&&s(e[t])}),function(){var e,t=navigator.userAgent,a=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(a[1]))e=/\brv[ :]+(\d+)/g.exec(t)||[];else if("Chrome"!==a[1]||null==(e=t.match(/\bOPR|Edge\/(\d+)/))){a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&a.splice(1,1,e[1]);var s=document.body;"Safari"===a[0]&&a[1]<11&&s.classList.add("ast-safari-browser-less-than-11")}}();for(var t=document.getElementsByClassName("astra-search-icon"),a=0;a<t.length;a++)t[a].onclick=function(e){if(this.classList.contains("slide-search")){e.preventDefault();var t=this.parentNode.parentNode.parentNode.querySelector(".ast-search-menu-icon");t.classList.contains("ast-dropdown-active")?(""!==(t.querySelector(".search-field").value||"")&&t.querySelector(".search-form").submit(),t.classList.remove("ast-dropdown-active")):(t.classList.add("ast-dropdown-active"),t.querySelector(".search-field").setAttribute("autocomplete","off"),setTimeout(function(){t.querySelector(".search-field").focus()},200))}};function s(e){if(e){var t=e.getElementsByTagName("button")[0];if(void 0!==t||void 0!==(t=e.getElementsByTagName("a")[0])){var a=e.getElementsByTagName("ul")[0];if(void 0!==a){a.setAttribute("aria-expanded","false"),-1===a.className.indexOf("nav-menu")&&(a.className+=" nav-menu"),t.onclick=function(){-1!==e.className.indexOf("toggled")?(e.className=e.className.replace(" toggled",""),t.setAttribute("aria-expanded","false"),a.setAttribute("aria-expanded","false")):(e.className+=" toggled",t.setAttribute("aria-expanded","true"),a.setAttribute("aria-expanded","true"))};for(var s=a.getElementsByTagName("a"),n=a.getElementsByTagName("ul"),o=0,r=n.length;o<r;o++)n[o].parentNode.setAttribute("aria-haspopup","true");for(o=0,r=s.length;o<r;o++)s[o].addEventListener("focus",c,!0),s[o].addEventListener("blur",d,!0),s[o].addEventListener("click",i,!0)}else t.style.display="none"}}}function i(){var e=this||"";if(e&&!e.classList.contains("astra-search-icon")&&-1!==new String(e).indexOf("#")){var t=e.parentNode;if(!document.body.classList.contains("ast-header-break-point")||document.querySelector("header.site-header").classList.contains("ast-menu-toggle-link")&&t.classList.contains("menu-item-has-children"))for(;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&-1!==e.className.indexOf("focus")&&(e.className=e.className.replace(" focus","")),e=e.parentElement;else{document.querySelector(".main-header-menu-toggle").classList.remove("toggled");var a=document.querySelector(".main-header-bar-navigation");a.classList.remove("toggle-on"),a.style.display="none";var s=document.querySelector(".menu-below-header-toggle"),n=document.querySelector(".ast-below-header"),o=document.querySelector(".ast-below-header-actual-nav");s&&n&&o&&(s.classList.remove("toggled"),n.classList.remove("toggle-on"),o.style.display="none");var r=document.querySelector(".menu-above-header-toggle"),l=document.querySelector(".ast-above-header"),i=document.querySelector(".ast-above-header-navigation");r&&l&&i&&(r.classList.remove("toggled"),l.classList.remove("toggle-on"),i.style.display="none"),astraTriggerEvent(document.querySelector("body"),"astraMenuHashLinkClicked")}}}function c(){for(var e=this;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}function d(){var e=this||"";if(-1===new String(e).indexOf("#")||!document.body.classList.contains("ast-mouse-clicked"))for(;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}if(document.body.onclick=function(e){if(void 0!==e.target.classList&&!e.target.classList.contains("ast-search-menu-icon")&&0===astraGetParents(e.target,".ast-search-menu-icon").length&&0===astraGetParents(e.target,".ast-search-icon").length)for(var t=document.getElementsByClassName("ast-search-menu-icon"),a=0;a<t.length;a++)t[a].classList.remove("ast-dropdown-active")},"querySelector"in document&&"addEventListener"in window){var o=document.body;o.addEventListener("mousedown",function(){o.classList.add("ast-mouse-clicked")}),o.addEventListener("keydown",function(){o.classList.remove("ast-mouse-clicked")})}}();

!function(){function t(){if(this.complete){var e=this.getAttribute("data-lazy-src");if(e&&this.src!==e)this.addEventListener("onload",t);else{var d=this.width,n=this.height;d&&d>0&&n&&n>0&&(this.setAttribute("width",d),this.setAttribute("height",n),i(this))}}else this.addEventListener("onload",t)}var e=function(){for(var e=document.querySelectorAll("img[data-recalc-dims]"),i=0;i<e.length;i++)t.call(e[i])},i=function(t){t.removeAttribute("data-recalc-dims"),t.removeAttribute("scale")};"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()),document.body.addEventListener("is.post-load",e)}();
var jetpackSearchModule=function(){var i,j,checkboxes,filter_list=document.querySelectorAll('.jetpack-search-filters-widget__filter-list');for(i=0;i<filter_list.length;i++){filter_list[i].addEventListener('click',function(event){var target=event.target;var precedingCheckbox;var nextAnchor;if(target.nodeName&&'a'===target.nodeName.toLowerCase()){precedingCheckbox=target.previousElementSibling;if(precedingCheckbox&&precedingCheckbox.type&&'checkbox'===precedingCheckbox.type){precedingCheckbox.checked=!precedingCheckbox.checked;}}
if(target.type&&'checkbox'===target.type){nextAnchor=target.nextElementSibling;if(nextAnchor&&'a'===nextAnchor.nodeName.toLowerCase()){window.location.href=nextAnchor.getAttribute('href');}}});checkboxes=filter_list[i].querySelectorAll('input[type="checkbox"]');for(j=0;j<checkboxes.length;j++){checkboxes[j].disabled=false;checkboxes[j].style.cursor='inherit';}}};if(document.readyState==='interactive'||document.readyState==='complete'){jetpackSearchModule();}else{document.addEventListener('DOMContentLoaded',jetpackSearchModule);};
!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(t,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,s=h(i),c=this._rootContainsTarget(i),u=r.entry,a=e&&c&&this._computeTargetAndRootIntersection(i,n),l=r.entry=new o({time:t.performance&&performance.now&&performance.now(),target:i,boundingClientRect:s,rootBounds:n,intersectionRect:a});u?e&&c?this._hasCrossedThreshold(u,l)&&this._queuedEntries.push(l):u&&u.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var r,i,s,c,a,l,p,f,d=h(n),g=u(n),_=!1;!_;){var v=null,m=1==g.nodeType?t.getComputedStyle(g):{};if("none"==m.display)return;if(g==this.root||g==e?(_=!0,v=o):g!=e.body&&g!=e.documentElement&&"visible"!=m.overflow&&(v=h(g)),v&&(r=v,i=d,s=void 0,c=void 0,a=void 0,l=void 0,p=void 0,f=void 0,s=Math.max(r.top,i.top),c=Math.min(r.bottom,i.bottom),a=Math.max(r.left,i.left),l=Math.min(r.right,i.right),f=c-s,!(d=(p=l-a)>=0&&f>=0&&{top:s,bottom:c,left:a,right:l,width:p,height:f})))break;g=u(g)}return d}},r.prototype._getRootRect=function(){var t;if(this.root)t=h(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},r.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},r.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},r.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},r.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=r,t.IntersectionObserverEntry=o}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?r/n:this.isIntersecting?1:0}function r(t,e){var n,o,r,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function i(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function h(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=u(n)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)}]);
!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){var n=function(){var e,t,n,a={rootMargin:"200px 0px",threshold:.01},r=[];o();var i=document.querySelector("body");function o(){e=[].slice.call(document.querySelectorAll("img.jetpack-lazy-image:not(.jetpack-lazy-image--handled)")),n&&n.disconnect(),"IntersectionObserver"in window?(n=new IntersectionObserver(l,a),e.forEach((function(e){e.getAttribute("data-lazy-loaded")||n.observe(e)})),window.addEventListener("beforeprint",c),window.matchMedia&&window.matchMedia("print").addListener((function(e){e.matches&&c()}))):d()}function d(){for(n&&n.disconnect();e.length>0;)s(e[0])}function l(t){for(var a=0;a<t.length;a++){var r=t[a];r.intersectionRatio>0&&(n.unobserve(r.target),s(r.target))}0===e.length&&n.disconnect()}function c(){if(!t&&(e.length>0||r.length>0)){(t=document.createElement("div")).id="loadingWarning",t.style.fontWeight="bold",t.innerText=jetpackLazyImagesL10n.loading_warning;var n=document.createElement("style");n.innerHTML="#loadingWarning { display: none; }\n@media print {\n#loadingWarning { display: block; }\nbody > #loadingWarning ~ * { display: none !important; }\n}",t.appendChild(n),i.insertBefore(t,i.firstChild)}e.length>0&&d(),t&&alert(jetpackLazyImagesL10n.loading_warning)}function s(t){var n;if(t instanceof HTMLImageElement){var a=t.getAttribute("data-lazy-srcset"),i=t.getAttribute("data-lazy-sizes");t.removeAttribute("data-lazy-srcset"),t.removeAttribute("data-lazy-sizes"),t.removeAttribute("data-lazy-src"),t.classList.add("jetpack-lazy-image--handled"),t.setAttribute("data-lazy-loaded",1),i&&t.setAttribute("sizes",i),a?t.setAttribute("srcset",a):t.removeAttribute("srcset"),t.setAttribute("loading","eager"),r.push(t);var o=e.indexOf(t);o>=0&&e.splice(o,1),t.complete?u.call(t,null):(t.addEventListener("load",u,{once:!0}),t.addEventListener("error",u,{once:!0}));try{n=new Event("jetpack-lazy-loaded-image",{bubbles:!0,cancelable:!0})}catch(e){(n=document.createEvent("Event")).initEvent("jetpack-lazy-loaded-image",!0,!0)}t.dispatchEvent(n)}}function u(){var n=r.indexOf(this);n>=0&&r.splice(n,1),t&&0===e.length&&0===r.length&&(t.parentNode.removeChild(t),t=null)}i&&(i.addEventListener("is.post-load",o),i.addEventListener("jetpack-lazy-images-load",o))};"interactive"===document.readyState||"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",n)}]);

/* global wpcom, jetpackCarouselStrings, DocumentTouch */
jQuery(document).ready(function(e){"use strict";var t,a,i,o,r,n,s,l,c,d,u,p=e("body").css("overflow"),m=e("html").css("overflow"),h=85,f="",g=!1,w=function(){},v="undefined"!=typeof wpcom&&wpcom.carousel&&wpcom.carousel.stat?wpcom.carousel.stat:w,j="undefined"!=typeof wpcom&&wpcom.carousel&&wpcom.carousel.pageview?wpcom.carousel.pageview:w;function b(e){if(!g)switch(e.which){case 38:e.preventDefault(),i.scrollTop(i.scrollTop()-100);break;case 40:e.preventDefault(),i.scrollTop(i.scrollTop()+100);break;case 39:e.preventDefault(),W();break;case 37:case 8:e.preventDefault(),F();break;case 27:e.preventDefault(),N()}}function y(){g=!0}function x(){g=!1}function k(){if(d=110,window.innerWidth<=760){d=Math.round(window.innerWidth/760*110);var e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;d<40&&e&&(d=0)}}function _(t){return t=(t=(t=(t=""+t).replace(/'/g,"&#8217;").replace(/&#039;/g,"&#8217;").replace(/[\u2019]/g,"&#8217;")).replace(/"/g,"&#8221;").replace(/&#034;/g,"&#8221;").replace(/&quot;/g,"&#8221;").replace(/[\u201D]/g,"&#8221;")).replace(/([\w]+)=&#[\d]+;(.+?)&#[\d]+;/g,'$1="$2"'),e.trim(t)}function C(){var e=window.matchMedia&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches;clearTimeout(s),s=setTimeout(function(){k(),B(U(a)),R(e),I(e)},200)}function I(e){var t={left:d+"px",right:d+"px"};e?o.animate(t):o.css(t)}function A(){if(!t){i=e(".jp-carousel-wrap"),t=i.find(".jp-carousel-overlay"),a=i.find(".jp-carousel"),n=i.find(".jp-carousel-caption"),o=i.find(".jp-carousel-info");var s=i.find(".jp-carousel-next-button"),l=i.find(".jp-carousel-previous-button");k(),I(!1),[e("#jp-carousel-comment-form-comment-field"),e("#jp-carousel-comment-form-email-field"),e("#jp-carousel-comment-form-author-field"),e("#jp-carousel-comment-form-url-field")].forEach(function(e){e.focus(y),e.blur(x)}),i.click(function(t){var r=e(t.target),n=r.parents().add(r).is(i.find(".jp-carousel-close-hint")),s=!!window.matchMedia("(max-device-width: 760px)").matches;r.is(a)?s?S(t):N():n?N():r.hasClass("jp-carousel-image-download")?v("download_original_click"):r.hasClass("jp-carousel-commentlink")?function(t){t.preventDefault(),t.stopPropagation(),y(),i.animate({scrollTop:parseInt(o.position().top,10)},"fast"),e("#jp-carousel-comment-form-submit-and-info-wrapper").slideDown("fast"),e("#jp-carousel-comment-form-comment-field").focus()}(t):r.hasClass("jp-carousel-comment-login")?function(t){var a=e(t.target).parents("div.jp-carousel-wrap").find("div.selected").data("attachment-id");window.location.href=jetpackCarouselStrings.login_url+"%23jp-carousel-"+a}(t):r.parents("#jp-carousel-comment-form-container").length?function(t){var a=e(t.target),i=a.parents("div.jp-carousel-wrap"),o=(i.data("carousel-extra")||{}).blog_id,r=i.find("div.selected").data("attachment-id"),n=e("#jp-carousel-comment-form-comment-field"),s=e("#jp-carousel-comment-form-email-field"),l=e("#jp-carousel-comment-form-author-field"),c=e("#jp-carousel-comment-form-url-field");if(n&&n.attr("id")===a.attr("id"))y(),e("#jp-carousel-comment-form-submit-and-info-wrapper").slideDown("fast");else if(a.is('input[type="submit"]')){t.preventDefault(),t.stopPropagation(),e("#jp-carousel-comment-form-spinner").show();var d={action:"post_attachment_comment",nonce:jetpackCarouselStrings.nonce,blog_id:o,id:r,comment:n.val()};if(!d.comment.length)return void Y("jp-carousel-comment-form-comment-field",jetpackCarouselStrings.no_comment_text);if(Number(1!==jetpackCarouselStrings.is_logged_in)&&(d.email=s.val(),d.author=l.val(),d.url=c.val(),Number(1===jetpackCarouselStrings.require_name_email))){if(!d.email.length||!d.email.match("@"))return void Y("jp-carousel-comment-form-email-field",jetpackCarouselStrings.no_comment_email);if(!d.author.length)return void Y("jp-carousel-comment-form-author-field",jetpackCarouselStrings.no_comment_author)}e.ajax({type:"POST",url:jetpackCarouselStrings.ajaxurl,data:d,dataType:"json",success:function(t){"approved"===t.comment_status?e("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-success">'+jetpackCarouselStrings.comment_approved+"</span>").slideDown("fast"):"unapproved"===t.comment_status?e("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-success">'+jetpackCarouselStrings.comment_unapproved+"</span>").slideDown("fast"):e("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-error">'+jetpackCarouselStrings.comment_post_error+"</span>").slideDown("fast"),J(),Q(r,0,!0),e("#jp-carousel-comment-form-button-submit").val(jetpackCarouselStrings.post_comment),e("#jp-carousel-comment-form-spinner").hide()},error:function(){Y("jp-carousel-comment-form-comment-field",jetpackCarouselStrings.comment_post_error)}})}}(t):r.parents(".jp-carousel-info").length||(s?S(t):W())}),e(window).bind("keydown",b),i.bind("jp_carousel.afterOpen",function(){x(),e(window).bind("resize",C),a.opened=!0,C()}),i.bind("jp_carousel.beforeClose",function(){var t=e(window).scrollTop();y(),e(window).unbind("resize",C),e(window).scrollTop(t),e(".jp-carousel-previous-button").hide(),e(".jp-carousel-next-button").hide(),e("html").css("height","")}),i.bind("jp_carousel.afterClose",function(){window.location.hash&&history.back&&history.back(),f="",a.opened=!1}),i.on("transitionend.jp-carousel ",".jp-carousel-slide",function(t){if("transform"===t.originalEvent.propertyName){var a=(Date.now()-r)/1e3/t.originalEvent.elapsedTime;i.off("transitionend.jp-carousel"),a>=2&&e(".jp-carousel-transitions").removeClass("jp-carousel-transitions")}}),function(e){e=e||{};var t,a,i,o,r={root:document.body,threshold:150,restraint:100,allowedTime:300,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){}};for(var n in e)r[n]=e[n];function s(){r.root.removeEventListener("touchmove",l),t=null,i=!1}function l(e){if(i){var n=e.touches[0].pageX,l=e.touches[0].pageY,c=t-n,d=a-l;(new Date).getTime()-o<=r.allowedTime&&(Math.abs(c)>=r.threshold&&Math.abs(d)<=r.restraint?(s(),c>0?r.wipeLeft(e):r.wipeRight(e)):Math.abs(d)>=r.threshold&&Math.abs(c)<=r.restraint&&(s(),d>0?r.wipeDown(e):r.wipeUp(e)))}}"ontouchstart"in document.documentElement&&r.root.addEventListener("touchstart",function(e){1===e.touches.length&&(o=(new Date).getTime(),t=e.touches[0].pageX,a=e.touches[0].pageY,i=!0,r.root.addEventListener("touchmove",l,!1))},!1)}({root:i.get(0),wipeLeft:function(e){e.preventDefault(),W()},wipeRight:function(e){e.preventDefault(),F()}}),s.add(l).click(function(e){e.preventDefault(),e.stopPropagation(),s.is(this)?W():F()})}}function S(t){t.pageX<=70&&F(),e(window).width()-t.pageX<=70&&W()}function D(){e("a img[data-attachment-id]").each(function(){var t=e(this).parent();if(!t.parent(".gallery-icon").length&&void 0!==e(t).attr("href")){var a=!1;e(t).attr("href").split("?")[0]===e(this).attr("data-orig-file").split("?")[0]&&Number(1===jetpackCarouselStrings.single_image_gallery_media_file)&&(a=!0),e(t).attr("href")===e(this).attr("data-permalink")&&(a=!0),a&&(e(t).addClass("single-image-gallery"),e(t).data("carousel-extra",{blog_id:Number(jetpackCarouselStrings.blog_id)}))}})}function T(){return!(void 0===a||void 0===a.opened||!a.opened)}function M(e){var t=U(a),i=t.eq(e);0===i.length&&(i=t.eq(0)),$(i,!1)}function W(){O(E)}function F(){O(z)}function O(e){if(U(a).length<=1)return!1;var t=e(a);t&&(i.animate({scrollTop:0},"fast"),J(),$(t),v(["previous","view_image"]))}function H(e){return e.find(".selected")}function E(e){var t=U(e),a=H(e);return 0===a.length||t.length>2&&a.is(t.last())?t.first():a.next()}function z(e){var t=U(e),a=H(e);return 0===a.length||t.length>2&&a.is(t.first())?t.last():a.prev()}function N(){e("body").css("overflow",p),e("html").css("overflow",m),J(),i.trigger("jp_carousel.beforeClose"),i.fadeOut("fast",function(){i.trigger("jp_carousel.afterClose"),e(window).scrollTop(u)})}function P(e,t){r=Date.now(),e.css({transform:"translate3d("+t+"px,0,0)"})}function R(e){var t,r=H(a),n=a.width(),s=r.width(),l=z(a),u=E(a),p=l.prev(),m=u.next();P(r,Math.floor(.5*(n-s))),r.show(),t=q(H(a)),i.find(".jp-carousel-photo-info").css({left:Math.floor(.5*(o.width()-t.width)),width:Math.floor(t.width)}),1===(c.is(r.prevAll())?1:-1)?(m.is(l)||(P(m,n+u.width()),m.show()),p.is(u)||(P(p,-p.width()-s),p.show())):m.is(l)||(P(m,n+s),m.show()),P(l,Math.floor(-l.width()+.75*d)),l.show(),P(u,Math.ceil(n-.75*d)),u.show()}function $(t,o){(c=a.find(".selected")).removeClass("selected");var r,s,l,d,u=U(a),p=e(t),m=p.data("attachment-id"),h=z(a),g=E(a),w=h.prev(),v=g.next();u.css({position:"fixed"}),p.addClass("selected").css({position:"relative"}),K(p),n.hide(),0===g.length&&u.length<=2?e(".jp-carousel-next-button").hide():e(".jp-carousel-next-button").show(),0===h.length&&u.length<=2?e(".jp-carousel-previous-button").hide():e(".jp-carousel-previous-button").show(),r=function(t){return t.each(function(){var t=e(this);t.find("img").one("load",function(){B(t)})})}(p.add(h).add(w).add(g).add(v)),u.not(r).hide(),R(),i.trigger("jp_carousel.selectSlide",[p]),function(t){var a,i="",o="",r="";(a=e("div.jp-carousel-titleanddesc","div.jp-carousel-wrap")).hide(),i=G(t.title)||"",o=G(t.desc)||"",(i.length||o.length)&&(e("<div />").html(i).text()===e("<div />").html(o).text()&&(i=""),r=i.length?'<div class="jp-carousel-titleanddesc-title">'+i+"</div>":"",r+=o.length?'<div class="jp-carousel-titleanddesc-desc">'+o+"</div>":"",a.html(r).fadeIn("slow"));e("div#jp-carousel-comment-form-container").css("margin-top","20px"),e("div#jp-carousel-comments-loading").css("margin-top","20px")}({title:p.data("title"),desc:p.data("desc")}),function(t){if(!t||1!==Number(jetpackCarouselStrings.display_exif))return!1;var a=e("<ul class='jp-carousel-image-exif'></ul>");e.each(t,function(t,i){if(0!==parseFloat(i)&&i.length&&-1!==e.inArray(t,e.makeArray(jetpackCarouselStrings.meta_data))){switch(t){case"focal_length":i+="mm";break;case"shutter_speed":i=function(e){if(e>=1)return Math.round(10*e)/10+"s";return"1/"+Math.round(1/e)+"s"}(i);break;case"aperture":i="f/"+i}a.append("<li><h5>"+jetpackCarouselStrings[t]+"</h5>"+i+"</li>")}}),e("div.jp-carousel-image-meta ul.jp-carousel-image-exif").replaceWith(a)}(p.data("image-meta")),function(t){if(!t||!t.data)return!1;var a,i=t.data("orig-size").split(","),o=document.createElement("a");o.href=t.data("src").replace(/\?.+$/,""),a=null!==o.hostname.match(/^i[\d]{1}\.wp\.com$/i)?o.href:t.data("orig-file").replace(/\?.+$/,"");var r=e("<a>"+function(e,t){if(!e)return;if(!t)return e;return e.replace(/{(\d+)}/g,function(e,a){return void 0!==t[a]?t[a]:e})}(jetpackCarouselStrings.download_original,i)+"</a>").addClass("jp-carousel-image-download").attr("href",a).attr("target","_blank");e("div.jp-carousel-image-meta a.jp-carousel-image-download").replaceWith(r)}(p),1===Number(jetpackCarouselStrings.display_comments)&&(l=p.data("comments-opened"),d=i.find(".jp-carousel-comment-form-container"),1===parseInt(l,10)?(1===Number(jetpackCarouselStrings.is_logged_in)?e(".jp-carousel-commentlink").fadeIn("fast"):e(".jp-carousel-buttons").fadeIn("fast"),d.fadeIn("fast")):(1===Number(jetpackCarouselStrings.is_logged_in)?e(".jp-carousel-commentlink").fadeOut("fast"):e(".jp-carousel-buttons").fadeOut("fast"),d.fadeOut("fast")),Q(m,0,!0),e("#jp-carousel-comment-post-results").slideUp()),p.data("caption")?((s=e("<div />").text(p.data("caption")).html())===e("<div />").text(p.data("title")).html()&&e(".jp-carousel-titleanddesc-title").fadeOut("fast").empty(),s===e("<div />").text(p.data("desc")).html()&&e(".jp-carousel-titleanddesc-desc").fadeOut("fast").empty(),n.html(p.data("caption")).fadeIn("slow")):n.fadeOut("fast").empty(),jetpackCarouselStrings.stats&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?"+jetpackCarouselStrings.stats+"&post="+encodeURIComponent(m)+"&rand="+Math.random()),j(m),e(g).add(h).each(function(){K(e(this))}),window.location.hash=f="#jp-carousel-"+m}function U(e){return e.find(".jp-carousel-slide")}function L(){return{width:e(window).width()-2*d,height:Math.floor(e(window).height()/100*h-60)}}function q(t){var a,i,o=L(),r=function(t){var a=e(t).data("orig-size").split(",");return{width:parseInt(a[0],10),height:parseInt(a[1],10)}}(t),n=r.width/r.height,s=1,l=1;return r.width>o.width&&(s=o.width/r.width),r.height>o.height&&(l=o.height/r.height),s<l?(a=o.width,i=Math.floor(a/n)):l<s?(i=o.height,a=Math.floor(i*n)):(a=r.width,i=r.height),{width:a,height:i}}function B(t){return t.each(function(){var t=e(this),a=q(t),i=L();a.left=0,a.top=Math.floor(.5*(i.height-a.height))+40,t.css(a)})}function X(e,t,a){var i=a?e.replace(/.*=([\d]+%2C[\d]+).*$/,"$1"):e.replace(/.*-([\d]+x[\d]+)\..+$/,"$1"),o=i!==e?a?i.split("%2C"):i.split("x"):[t,0];return"9999"===o[0]&&(o[0]="0"),"9999"===o[1]&&(o[1]="0"),o}function G(e){return!e.match(" ")&&e.match("_")?"":e}function Q(t,a,o){if(clearInterval(l),t){(!a||a<1)&&(a=0);var r=e(".jp-carousel-comments"),n=e("#jp-carousel-comments-loading").show();o&&r.hide().empty(),e.ajax({type:"GET",url:jetpackCarouselStrings.ajaxurl,dataType:"json",data:{action:"get_attachment_comments",nonce:jetpackCarouselStrings.nonce,id:t,offset:a},success:function(s){o&&r.fadeOut("fast").empty(),e(s).each(function(){var i=e("<div></div>").addClass("jp-carousel-comment").attr("id","jp-carousel-comment-"+this.id).html('<div class="comment-gravatar">'+this.gravatar_markup+'</div><div class="comment-author">'+this.author_markup+'</div><div class="comment-date">'+this.date_gmt+'</div><div class="comment-content">'+this.content+"</div>");r.append(i),clearInterval(l),l=setInterval(function(){e(".jp-carousel-overlay").height()-150<e(".jp-carousel-wrap").scrollTop()+e(window).height()&&(Q(t,a+10,!1),clearInterval(l))},300)});var c=e(".jp-carousel div.selected");if(c&&c.data&&c.data("attachment-id")!==t)return r.fadeOut("fast"),void r.empty();e(".jp-carousel-overlay").height(e(window).height()+i.find(".jp-carousel-titleanddesc").height()+i.find(".jp-carousel-comment-form-container").height()+(r.height()>0?r.height():i.find(".jp-carousel-image-meta").height())+200),r.show(),n.hide()},error:function(){r.fadeIn("fast"),n.fadeOut("fast")}})}}function Y(t,a){t&&a&&(e("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-error">'+a+"</span>").slideDown("fast"),e("#jp-carousel-comment-form-spinner").hide())}function J(){var t=e("#jp-carousel-comment-form-comment-field");t&&t.val("")}function K(t){var i=e(t),o=i.find("img:first");o.data("loaded")||(o.on("load.jetpack",function(){o.off("load.jetpack"),a.closest(".jp-carousel-slide").css("background-image","")}),!i.data("preview-image")||i.data("thumb-size")&&i.width()>i.data("thumb-size").width?o.attr("src",o.closest(".jp-carousel-slide").data("src")).attr("itemprop","image"):o.attr("src",i.data("preview-image")).attr("itemprop","image"),o.data("loaded",1))}function V(t,i){t.length<2?e(".jp-carousel-next-button, .jp-carousel-previous-button").hide():e(".jp-carousel-next-button, .jp-carousel-previous-button").show(),t.each(function(){var t,a=e(this),i=a.data("orig-size")||"",o=L(),r=i.split(","),n=a.data("medium-file")||"",s=a.data("large-file")||"";i={width:parseInt(r[0],10),height:parseInt(r[1],10)},t=void 0!==typeof wpcom&&wpcom.carousel&&wpcom.carousel.generateImgSrc?wpcom.carousel.generateImgSrc(a.get(0),o):function(e){if("object"!=typeof e&&(e={}),void 0===e.origFile)return"";if(void 0===e.origWidth||void 0===e.maxWidth)return e.origFile;if(void 0===e.mediumFile||void 0===e.largeFile)return e.origFile;var t=document.createElement("a");t.href=e.largeFile;var a=/^i[0-2]\.wp\.com$/i.test(t.hostname),i=X(e.mediumFile,e.origWidth,a),o=X(e.largeFile,e.origWidth,a),r=parseInt(o[0],10),n=parseInt(o[1],10),s=parseInt(i[0],10),l=parseInt(i[1],10);if(e.origMaxWidth=e.maxWidth,e.origMaxHeight=e.maxHeight,void 0!==window.devicePixelRatio&&window.devicePixelRatio>1&&(e.maxWidth=e.maxWidth*window.devicePixelRatio,e.maxHeight=e.maxHeight*window.devicePixelRatio),r>=e.maxWidth||n>=e.maxHeight)return e.largeFile;if(s>=e.maxWidth||l>=e.maxHeight)return e.mediumFile;if(a){var c=e.largeFile.lastIndexOf("?"),d=e.largeFile;return-1!==c&&(d=e.largeFile.substring(0,c),(e.origWidth>e.maxWidth||e.origHeight>e.maxHeight)&&(d+="?fit="+e.origMaxWidth+"%2C"+e.origMaxHeight)),d}return e.origFile}({origFile:t=a.data("orig-file"),origWidth:i.width,origHeight:i.height,maxWidth:o.width,maxHeight:o.height,mediumFile:n,largeFile:s}),e(this)[0].setAttribute("data-gallery-src",t)}),0!==i&&(e("<img/>")[0].src=e(t[i]).data("gallery-src"));var o=t.first().closest(".tiled-gallery.type-rectangular").length>0;t.each(function(t){var r=e(this),n=r.data("attachment-id")||0,s=r.data("comments-opened")||0,l=r.data("image-meta")||{},c=r.data("orig-size")||"",d=r.data("image-title")||"",u=r.data("image-description")||"",p=r.data("gallery-src")||"",m=r.data("medium-file")||"",h=r.data("large-file")||"",f=r.data("orig-file")||"",g=r.parents(".gallery-item").find(".gallery-caption").html()||"",w={width:r[0].naturalWidth,height:r[0].naturalHeight},v=r.parents("a").attr("href"),j=r.parents("div.tiled-gallery-item").find("div.tiled-gallery-caption").html();if(j&&(g=j),n&&c.length){d=_(d),u=_(u),g=_(g);var b=e("<img/>").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7").css("width","100%").css("height","100%"),y=e('<div class="jp-carousel-slide" itemprop="associatedMedia" itemscope itemtype="https://schema.org/ImageObject"></div>').hide().css({left:t<i?-1e3:a.width()}).append(b).appendTo(a).data("src",p).data("title",d).data("desc",u).data("caption",g).data("attachment-id",n).data("permalink",v).data("orig-size",c).data("comments-opened",s).data("image-meta",l).data("medium-file",m).data("large-file",h).data("orig-file",f).data("thumb-size",w);o&&y.data("preview-image",r.attr("src")).css({"background-image":'url("'+r.attr("src")+'")',"background-size":"100% 100%","background-position":"center center"}),B(y)}})}function Z(t,o){var r={items_selector:".gallery-item [data-attachment-id], .tiled-gallery-item [data-attachment-id], img[data-attachment-id]",startIndex:0},n=t.data("carousel-extra");if(n&&(A(),!T()))return p=e("body").css("overflow"),e("body").css("overflow","hidden"),m=e("html").css("overflow"),e("html").css("overflow","hidden"),u=e(window).scrollTop(),i.data("carousel-extra",n),v(["open","view_image"]),t.each(function(){o&&e.extend(r,o),-1===r.startIndex&&(r.startIndex=0),i.trigger("jp_carousel.beforeOpen"),i.fadeIn("fast",function(){i.trigger("jp_carousel.afterOpen"),V(t.find(r.items_selector),r.startIndex),M(r.startIndex)}),a.html("")})}e(document.body).on("click.jp-carousel","div.gallery, div.tiled-gallery, ul.wp-block-gallery, ul.blocks-gallery-grid, figure.blocks-gallery-grid, div.wp-block-jetpack-tiled-gallery, a.single-image-gallery",function(t){if(a=t.currentTarget,(i=e(a)).length&&i.data("carousel-extra")){var a,i;if(e(t.target).parents().eq(1).hasClass("wp-block-image")){var o=e(t.target).parent().attr("href");if(o.split("?")[0]!==e(t.target).attr("data-orig-file").split("?")[0]&&o!==e(t.target).attr("data-permalink"))return}e(t.target).parent().hasClass("gallery-caption")||e(t.target).parent().is("figcaption")||(e("html").css("height","auto"),t.preventDefault(),t.stopPropagation(),Z(e(this),{startIndex:e(this).find(".gallery-item, .tiled-gallery-item, .blocks-gallery-item, .tiled-gallery__item, .wp-block-image").index(e(t.target).parents(".gallery-item, .tiled-gallery-item, .blocks-gallery-item, .tiled-gallery__item, .wp-block-image"))}))}}),1===Number(jetpackCarouselStrings.single_image_gallery)&&(D(),e(document.body).on("post-load",function(){D()})),e(window).on("hashchange.jp-carousel",function(){var t,o,r,n=/jp-carousel-(\d+)/;window.location.hash&&n.test(window.location.hash)?window.location.hash===f&&a.opened||(window.location.hash&&a&&!a.opened&&history.back?history.back():(f=window.location.hash,t=window.location.hash.match(n),o=parseInt(t[1],10),e("div.gallery, div.tiled-gallery, a.single-image-gallery, ul.wp-block-gallery, div.wp-block-jetpack-tiled-gallery").each(function(t,a){if(e(a).find("img").each(function(t,i){if(e(i).data("attachment-id")===parseInt(o,10))return r={index:t,gallery:a},!1}),r)return i=e(r.gallery),n=r.index,T()?M(n):Z(i,{startIndex:n}),!1;var i,n}))):a&&a.opened&&i.jp_carousel("close")}),window.location.hash&&e(window).trigger("hashchange")});
var ak_js=document.getElementById("ak_js");if(!ak_js){ak_js=document.createElement('input');ak_js.setAttribute('id','ak_js');ak_js.setAttribute('name','ak_js');ak_js.setAttribute('type','hidden');}
else{ak_js.parentNode.removeChild(ak_js);}
ak_js.setAttribute('value',(new Date()).getTime());var commentForm=document.getElementById('commentform');if(commentForm){commentForm.appendChild(ak_js);}
else{var replyRowContainer=document.getElementById('replyrow');if(replyRowContainer){var children=replyRowContainer.getElementsByTagName('td');if(children.length>0){children[0].appendChild(ak_js);}}};